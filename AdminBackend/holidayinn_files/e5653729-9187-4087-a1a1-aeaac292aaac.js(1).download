// Copyright 2006-2017 ClickTale Ltd., US Patent Pending
// Generated on: 1/24/2017 6:52:45 AM (UTC 1/24/2017 12:52:45 PM)

window.ClickTaleGlobal = window.ClickTaleGlobal || {};
ClickTaleGlobal.scripts = ClickTaleGlobal.scripts || {};
ClickTaleGlobal.scripts.filter = ClickTaleGlobal.scripts.filter || (function () {
    var recordingThreshold = Math.random() * 100;

    return {
        isRecordingApproved: function(percentage) {
            return recordingThreshold <= percentage;
        }
    }
})();

			
// Copyright 2006-2017 ClickTale Ltd., US Patent Pending
// PID: 16508
// Generated on: 1/24/2017 6:52:45 AM (UTC 1/24/2017 12:52:45 PM)

var ctRules_PrePCC={"rules":"name|VE+Action+%7C+HOTEL+DETAILS+%7C+Gallery+-+Overview+clicked|action|type|CTEventAction|eventName|VE+Action+%7C+HOTEL+DETAILS+%7C+Gallery+-+Overview+clicked|triggers|OrCondition|childConditions|ClickCondition|ctSelector|elementAddressing|tagCode|elementID|applicationWrapper|index|hi_hd_gallery_tabs|alias|A|states|LocationCondition|url|https://www.ihg.com/holidayinn/hotels/us/en/austin/austl/hoteldetail?qRef=sr&qDest=Stephen%2BF%2BAustin%2BDr%252C%2BAustin%252C%2BTX%252C%2BUSA&qRpn=1&qChld=0&qAAR=6CBARC&qSrt=sBR&qSHp=1&qSmP=3&qGRM=0&qLng=-97.7687&qRdU=1&qRms=1&srb_u=1&qAdlt=1&qPSt=0&qRtP=6CBARC&qCiMy=072016&qCoD=11&qLat=30.2733&qCiD=10&qCoMy=072016&qRRSrt=rt&qRad=30&qRpp=12&qBrs=hi.ex.rs.ic.cp.in.sb.cw.cv.6c.vn.ul.ki&qWch=0|mode|AllPages|ignoreQueryString|VE+Onload+%7C+EX:+HOTELDETAIL+%7C+Book+now+appears+on+page|VE+Onload+%7C+EX:+HOTELDETAIL+%7C+Book+now+appears+on+page|DelayCondition|delay|AndCondition|/hoteldetail/|Contains|ExistsCondition|querySelector|a.booknow|query-selector|VE+Action+%7C+HOTEL+DETAILS+%7C+Gallery+-+Events+clicked|VE+Action+%7C+HOTEL+DETAILS+%7C+Gallery+-+Events+clicked|https://www.ihg.com/holidayinn/hotels/us/en/austin/austl/hoteldetail?qRef=sr&qDest=Stephen%2BF%2BAustin%2BDr%252C%2BAustin%252C%2BTX%252C%2BUSA&qRpn=1&qChld=0&qAAR=6CBARC&qSrt=sBR&qSHp=1&qSmP=3&qGRM=0&qLng=-97.7687&qRdU=1&qRms=1&srb_u=1&qAdlt=1&qPSt=0&qRtP=6CBARC&qCiMy=072016&qCoD=11&qLat=30.2733&qCiD=10&qCoMy=072016&qRRSrt=rt&qRad=30&qRpp=12&qBrs=hi.ex.rs.ic.cp.in.sb.cw.cv.6c.vn.ul.ki&qWch=0|VE+Action+%7C+EX:+HOTELDETAIL+:+LOCAL-GUIDE-WHATS-NEARBY+%7C+View+Gallery+-+clicked|VE+Action+%7C+EX:+HOTELDETAIL+:+LOCAL-GUIDE-WHATS-NEARBY+%7C+View+Gallery+-+clicked|span.hiex-view-gallery|/hoteldetail/local-guide-whats-nearby|VE+Action+%7C+HOTEL+DETAILS+%7C+Gallery+-+Dining+clicked|VE+Action+%7C+HOTEL+DETAILS+%7C+Gallery+-+Dining+clicked|https://www.ihg.com/holidayinn/hotels/us/en/austin/austl/hoteldetail?qRef=sr&qDest=Stephen%2BF%2BAustin%2BDr%252C%2BAustin%252C%2BTX%252C%2BUSA&qRpn=1&qChld=0&qAAR=6CBARC&qSrt=sBR&qSHp=1&qSmP=3&qGRM=0&qLng=-97.7687&qRdU=1&qRms=1&srb_u=1&qAdlt=1&qPSt=0&qRtP=6CBARC&qCiMy=072016&qCoD=11&qLat=30.2733&qCiD=10&qCoMy=072016&qRRSrt=rt&qRad=30&qRpp=12&qBrs=hi.ex.rs.ic.cp.in.sb.cw.cv.6c.vn.ul.ki&qWch=0|VE+Action+%7C+HOTEL+DETAILS+%7C+Gallery+-+Rooms+clicked|VE+Action+%7C+HOTEL+DETAILS+%7C+Gallery+-+Rooms+clicked|https://www.ihg.com/holidayinn/hotels/us/en/austin/austl/hoteldetail?qRef=sr&qDest=Stephen%2BF%2BAustin%2BDr%252C%2BAustin%252C%2BTX%252C%2BUSA&qRpn=1&qChld=0&qAAR=6CBARC&qSrt=sBR&qSHp=1&qSmP=3&qGRM=0&qLng=-97.7687&qRdU=1&qRms=1&srb_u=1&qAdlt=1&qPSt=0&qRtP=6CBARC&qCiMy=072016&qCoD=11&qLat=30.2733&qCiD=10&qCoMy=072016&qRRSrt=rt&qRad=30&qRpp=12&qBrs=hi.ex.rs.ic.cp.in.sb.cw.cv.6c.vn.ul.ki&qWch=0|Action+%7C+EX:+HOTELDETAIL+%7C+About+Our+Hotel+-+View+More+clicked|Action+%7C+EX:+HOTELDETAIL+%7C+About+Our+Hotel+-+View+More+clicked|div.morelink|/hoteldetail|VE+Onload+%7C+EX:+HOTELDETAIL+%7C+VE+Publish+20161219|VE+Onload+%7C+EX:+HOTELDETAIL+%7C+VE+Publish+20161219|PageLoadCondition|VE+Action+%7C+HOTEL+DETAILS+%7C+Gallery+-+Features+clicked|VE+Action+%7C+HOTEL+DETAILS+%7C+Gallery+-+Features+clicked|https://www.ihg.com/holidayinn/hotels/us/en/austin/austl/hoteldetail?qRef=sr&qDest=Stephen%2BF%2BAustin%2BDr%252C%2BAustin%252C%2BTX%252C%2BUSA&qRpn=1&qChld=0&qAAR=6CBARC&qSrt=sBR&qSHp=1&qSmP=3&qGRM=0&qLng=-97.7687&qRdU=1&qRms=1&srb_u=1&qAdlt=1&qPSt=0&qRtP=6CBARC&qCiMy=072016&qCoD=11&qLat=30.2733&qCiD=10&qCoMy=072016&qRRSrt=rt&qRad=30&qRpp=12&qBrs=hi.ex.rs.ic.cp.in.sb.cw.cv.6c.vn.ul.ki&qWch=0^284|4|8J|0|284|0|284|0|39|0|24|0|1|0|3UW|284|4|8J|0|284|0|284|0|39|0|24|4|1|0|284|4|8J|0|284|0|284|0|39|0|24|3|1|0|284|4|8J|0|284|0|284|0|39|0|24|1|1|0|284|4|8J|0|284|0|284|0|39|0|24|2|1|0^^@$0|1|2|$3|4|5|6]|7|$3|8|9|@$3|A|B|$C|@$D|1P|E|F|G|1Q]|$D|1R|G|1S]|$D|1T|G|1U]|$D|1V|E|H|G|1W]|$D|1X|G|1Y]|$D|1Z|G|20]|$D|21|G|22]]]|I|J]]]|K|$3|L|M|N|O|P|Q|-1]]|$0|R|2|$3|4|5|S]|7|$3|T|U|23]|K|$3|V|9|@$3|L|M|W|O|X|Q|-2]|$3|V|9|@$3|Y|B|$Z|10]|I|11]]]]]]|$0|12|2|$3|4|5|13]|7|$3|8|9|@$3|A|B|$C|@$D|24|E|F|G|25]|$D|26|G|27]|$D|28|G|29]|$D|2A|E|H|G|2B]|$D|2C|G|2D]|$D|2E|G|2F]|$D|2G|G|2H]]]|I|J]]]|K|$3|L|M|14|O|P|Q|-1]]|$0|15|2|$3|4|5|16]|7|$3|8|9|@$3|A|B|$Z|17]|I|11]]]|K|$3|L|M|18|O|X|Q|-1]]|$0|19|2|$3|4|5|1A]|7|$3|8|9|@$3|A|B|$C|@$D|2I|E|F|G|2J]|$D|2K|G|2L]|$D|2M|G|2N]|$D|2O|E|H|G|2P]|$D|2Q|G|2R]|$D|2S|G|2T]|$D|2U|G|2V]]]|I|J]]]|K|$3|L|M|1B|O|P|Q|-1]]|$0|1C|2|$3|4|5|1D]|7|$3|8|9|@$3|A|B|$C|@$D|2W|E|F|G|2X]|$D|2Y|G|2Z]|$D|30|G|31]|$D|32|E|H|G|33]|$D|34|G|35]|$D|36|G|37]|$D|38|G|39]]]|I|J]]]|K|$3|L|M|1E|O|P|Q|-1]]|$0|1F|2|$3|4|5|1G]|7|$3|8|9|@$3|A|B|$Z|1H]|I|11]]]|K|$3|L|M|1I|O|X|Q|-1]]|$0|1J|2|$3|4|5|1K]|7|$3|1L]|K|$3|L|M|1I|O|X|Q|-2]]|$0|1M|2|$3|4|5|1N]|7|$3|8|9|@$3|A|B|$C|@$D|3A|E|F|G|3B]|$D|3C|G|3D]|$D|3E|G|3F]|$D|3G|E|H|G|3H]|$D|3I|G|3J]|$D|3K|G|3L]|$D|3M|G|3N]]]|I|J]]]|K|$3|L|M|1O|O|P|Q|-1]]]","isTransformed":true}; (function(){function CTSimplePromise(){var e=[],t=!1,n=void 0;this.resolve=function(r){n=r,t=!0;for(var o=0;o<e.length;o++)e[o](r);e=[]},this.then=function(r){t?r(n):e.push(r)}}function Rule(e){logger.log("Rule name: ",e.name),this.name=e.name;var t=actionsFactory.construct(e.action,e),n=observablesFactory.construct(e.triggers),r=statesFactory.construct(e.states);n&&n.subscribe(function(){r.evaluate()&&(arguments.length>0&&"undefined"!=typeof arguments[arguments.length-1].domElement&&(t.triggeredDomElement=arguments[arguments.length-1].domElement),t.execute())}),logger.log("\n")}function Observable(){this.subscribers=[]}function State(e){}function Action(e){}function ClickObservable(e){Observable.call(this);var t=this;bindToClick(e,function(n){logger.log("Click event associated with selector: ",e),t.triggeredElement={domElement:n},t.notify(t.triggeredElement)})}function onMouseDown(e){currentMouseDownElement=e.target||e.srcElement}function onMouseUp(e){var t,n=e.target||e.srcElement;if(n===currentMouseDownElement){logger.log("Click detected on element: ",n);for(t in clickHandlers)clickHandlers.hasOwnProperty(t)&&isAncestor(clickHandlers[t][0].ctSelector,n)&&clickHandlers[t].forEach(function(e){var r=getAncestorDomElement(clickHandlers[t][0].ctSelector,n);e.callback.call(null,r)})}currentMouseDownElement=null}function bindToClick(e,t){var n=getSelectorKey(e);clickHandlers[n]=clickHandlers[n]||[],clickHandlers[n].push({callback:t,ctSelector:e})}function getSelectorKey(e){switch(Object.keys(e)[0]){case"elementAddressing":return JSON.stringify(e.elementAddressing);case"querySelector":return e.querySelector}}function isAncestor(e,t){var n=getAncestorDomElement(e,t);return null!=n}function getAncestorDomElement(e,t){for(var n=!1,r=t,o=ctSelectorUtils.getDOMelements(e);!n&&"HTML"!==r.tagName&&r.parentElement;)n=isElementsList(o,r),n||(r=r.parentElement);return n?r:null}function isElementsList(e,t){var n,r=e.length;for(n=0;n<r;n+=1)if(e[n]===t)return!0;return!1}function DelayObservable(e){Observable.call(this);var t=this;onRulesBoundHandlers.push(function(){setTimeout(function(){logger.log("Delay event"),t.notify()},e)})}function OrObservable(e){Observable.call(this);var t=this;e.forEach(function(e){e.subscribe(function(){"undefined"!=typeof e.triggeredElement?t.notify(e.triggeredElement):t.notify()})})}function PageLoadObservable(){Observable.call(this);var e=this;onRulesBoundHandlers.push(function(){logger.log("PageLoad event"),e.notify()})}function CTEventAction(e){this.actionData=e,"undefined"!=typeof this.actionData.dynamicEventName?logger.log("Dynamic event name: ",this.actionData.dynamicEventName):logger.log("Simple event name: ",this.actionData.eventName)}function AndCondition(e){this.children=e}function CookieExistsState(e,t){this.cookieName=e,this.cookieValue=t}function ExistsState(e){this.ctSelector=e}function JSVariableExistsState(e,t){this.jsVariableName=e,this.jsVariableValue=t}function LocationState(e){this.url=e.url.toLowerCase(),this.mode=e.mode,this.ignoreQueryString=e.ignoreQueryString,logger.log("Location mode: ",this.mode),logger.log("Location URL: ",this.url),logger.log("Location Ignore Query String: ",this.ignoreQueryString)}function NotCondition(e){this.childState=e}function OrCondition(e){this.children=e}function QSParamExistsState(e,t){this.queryStringParamName=e,this.queryStringParamValue=t}function UrlHashExistsState(e){this.urlHashValue=e}function init(){onDomReady(function(){startRulesEngine(),whenRecording(function(){ctRecordingPromise.resolve()})})}function whenRecording(e){if("undefined"!=typeof window.ClickTaleIsRecording&&window.ClickTaleIsRecording()===!0)e();else{var t=window.ClickTaleOnRecording;window.ClickTaleOnRecording=function(){e(),"undefined"!=typeof t&&"function"==typeof t&&t.apply(this,arguments)}}}function startRulesEngine(){try{if(!isSupportedBrowser())return;ct.ElementAddressing.bootstrap(window,!0),buildRules()}catch(e){logger.error("startRulesEngine: ",e)}}function onDomReady(e){function t(){r||(r=!0,e())}function n(){if(!r)try{document.documentElement.doScroll("left"),t()}catch(e){setTimeout(n,10)}}var r=!1;if("complete"===document.readyState||"interactive"===document.readyState)return void t();if(document.addEventListener)document.addEventListener("DOMContentLoaded",t,!1);else if(document.attachEvent){try{var o=null!=window.frameElement}catch(i){}document.documentElement.doScroll&&!o&&n(),document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&t()})}if(window.addEventListener)window.addEventListener("load",t,!1);else if(window.attachEvent)window.attachEvent("onload",t);else{var a=window.onload;window.onload=function(){a&&a(),t()}}}function isIE(){var e=navigator.userAgent.toLowerCase();return e.indexOf("msie")!=-1&&parseInt(e.split("msie")[1])}function isSupportedBrowser(){try{return!isIE()||isIE()>9}catch(e){return logger.error("isSupportedBrowser: ",e),!1}}function buildRules(){if(ctRules_PrePCC){var e=null;e=ctRules_PrePCC.isTransformed?rulesEngine.jsonUnpacker.unpack(ctRules_PrePCC.rules):ctRules_PrePCC.rules,rules=e.map(function(e){return new Rule(e)})}setTimeout(function(){onRulesBoundHandlers.forEach(function(e){e()})},1e3)}Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},o=function(){return n.apply(this instanceof r?this:e,t.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(r.prototype=this.prototype),o.prototype=new r,o}),"function"!=typeof Object.create&&(Object.create=function(){function e(){}var t=Object.prototype.hasOwnProperty;return function(n){if("object"!=typeof n)throw TypeError("Object prototype may only be an Object or null");e.prototype=n;var r=new e;if(e.prototype=null,arguments.length>1){var o=Object(arguments[1]);for(var i in o)t.call(o,i)&&(r[i]=o[i])}return r}}());var logger=function(){function e(){var e=Array.prototype.slice.call(arguments);n&&(window.console&&window.console.log?window.console.log.apply(window.console,e):window.alert&&window.alert(e.join(" ")))}for(var t={},n=!(!window.localStorage||"true"!==localStorage.getItem("ctRuleEngineDebug")),r=window.location.search.split("&"),o=[],i=0;i<r.length;i++)/^\??ctRuleEngine=/.test(r[i])&&o.push(r[i]);return o.length&&(n="true"===o[0].split("=").splice(1)[0],window.localStorage&&localStorage.setItem("ctRuleEngineDebug",n)),t.log=function(){e.apply(this,arguments)},t.error=function(t){e.apply(this,arguments)},t}();!function(){function e(e,t){var n=e.split("."),r=O;!(n[0]in r)&&r.execScript&&r.execScript("var "+n[0]);for(var o;n.length&&(o=n.shift());)n.length||t===w?r=r[o]?r[o]:r[o]={}:r[o]=t}function t(e,t){var n;if(e.map)n=e.map(t,w);else{n=[];for(var r=e.length,o=window,i=0;i<r;i++)n.push(t.call(o,e[i],i))}return n}function n(e,t){var n;if(e.filter)n=e.filter(t,w);else{n=[];for(var r=e.length,o=window,i=0;i<r;i++){var a=e[i];t.call(o,a,i)&&n.push(a)}}return n}function r(e,t){T||(e.ClickTaleSetCustomElementID=c(e.ClickTaleSetCustomElementID),T=S),t&&i(V,e.document.documentElement),N=S}function o(e){}function i(e,t){var n=t.firstChild,r=l(t).CustomID;r&&(r in e?(P[r]=S,o("duplicate registration of custom id "+r+"were found on multiple elements")):e[r]=t);for(;n;n=n.nextSibling)1===n.nodeType&&i(e,n)}function a(e,t){l(e).CustomID=t}function c(e){return function(t,n){n in V?(P[n]=S,o("duplicate registration of custom id "+n+" were found on multiple elements")):(e(t,n),N&&(V[n]=t))}}function l(e){var t=e.ClickTale;return t||(t={},e.ClickTale=t),t}function s(e){return E.getComputedStyle?E.getComputedStyle(e,C):e.currentStyle}function u(e){return F[e]||(F[e]=(e.charCodeAt(0)-64&31)+((e.charCodeAt(1)-64&28)<<3)+((e.charCodeAt(2)-64&30)<<7)),F[e]}function d(e){return(e.charCodeAt(0)-64&7)+((e.charCodeAt(0)-64&16)>>1)+((e.charCodeAt(1)-64&4)<<2)+((e.charCodeAt(3)-64&4)<<3)}function f(e,t,n){var r,o,i,a,c,f,y=0,v=C;r=k;for(var h,g=C,b=C,E=t.length,w=0;e&&w<E;w++)for(r=k,b=t[w],v=e.firstChild,y=0;!r&&v;v=v.nextSibling)if(1===v.nodeType&&u(v.tagName)===b.tagCode){if(y===b.index){if(g=v,e=b.name,r=b.typeCode,o=b.customID,f=b.elementID,i=p(g,"id"),a=p(g,"type"),c=p(g,"name"),h=l(g).CustomID,!m([o,h])&&o!=h||!m([f,i])&&f!=i||!m([e,c])&&e!=c||!m([r,a])&&a&&r!=d(a))return C;r=S,e=g}y++}return n?e:(r=r&&"none"!==s(e).display.toLowerCase())?e:C}function p(e,t){var n=e.getAttributeNode(t);return n?n.value:C}function m(e){return D(e,function(e){return!e})}function y(e,t){var n,r=t.customID;if(r){var i;r in P&&P[r]?o("duplicate custom id "+r+" were found on multiple elements"):i=V[r],n=i}else e:{if(r=t.elementID){try{n=e.querySelectorAll("#"+r),n.length||(n=e.querySelectorAll("[id='"+r.replace(/'/g,"\\'")+"']"))}catch(a){n=e.querySelectorAll("[id='"+r.replace(/'/g,"\\'")+"']")}if(n&&0!==n.length){if(1===n.length){n=n[0];break e}o("duplicate id "+r+" were found on multiple elements.")}else o("no element with id "+r+" was found.")}n=w}return n}function v(e,t){for(var n,r,i=t.length,a=i,c={},l=e.ownerDocument;0<a;a--){if(n=t[a-1],r=y(l,n),!r&&(n=n.name)&&a===i){r=l;var s,u=t,d=w,f=C,p=u.slice(0,a-1);e:{s=r;for(var m=p.length,v=w,v=w;0<m;m--)if(v=p[m-1],(v=y(s,v))&&1===v.nodeType&&"form"===v.tagName.toLowerCase()){s=v;break e}s=C}(d=s)?f=h(r,n,d,u):o("could not resolve form. form doesn't have an anchor."),r=f}if(r)return i=t.slice(a,i),c.b=i,c.a=r,c}return c.b=t,c.a=e,c}function h(e,t,r,i){var a,e=e.getElementsByName(t);if(1<e.length){if(e=n(e,function(e){return A(r,e)}),b(e))return t=i[i.length-1].index,g(e,t);o("duplicate name "+t+" found on multiple non radio elements.")}else 1===e.length&&(i=e[0],A(r,i)?a=i:o("could not resolve nested element with name "+t+" in form."));return a}function g(e,t){for(var n,r,o,i=[],a=k,c=0;c<e.length;c++)if(o=e[c],r=o.parentNode,-1===x(i,r)&&(i.push(r),r=r.getElementsByTagName(o.tagName),r.length-1>=t)){if(a)return C;n=r[t],a=S}return n}function b(e){for(var t=0;t<e.length;t++){var n=p(e[t],"type");if(!n||"radio"!==n.toLowerCase())return k}return S}var E,w=void 0,S=!0,C=null,k=!1,O=this,A=function(){var e=document.documentElement;return e.compareDocumentPosition||e.contains?function(e,t){var n=9===e.nodeType?e.documentElement:e;return e===t||n.contains&&n.contains(t)||e.compareDocumentPosition&&16&e.compareDocumentPosition(t)}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return S;return k}}(),x=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=e.length,r=0;r<n;r++)if(e[r]===t)return r;return-1},D=Array.prototype.every?function(e,t){return e.every(t)}:function(e,t){for(var n=e.length,r=0;r<n;r++)if(!t(e[r]))return k;return S},N=k,T=k,P={},V={},L=c(a),F={};e("ct.ElementAddressing.bootstrap",function(e,t){t=!!t,E=e,e.ClickTaleSetCustomElementID=a,/complete|interactive/.test(document.readyState)?r(e,t):e.document.addEventListener?e.document.addEventListener("DOMContentLoaded",function(){r(e,t)},k):document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&r(e,t)})}),e("ct.ElementAddressing.elementFromPath",function(e,n,r){var o=!(e[0]instanceof Array);return o&&(e=[e]),e=t(e,function(e){return e=v(n,e),e.a&&0<e.b.length&&(e.a=f(e.a,e.b,r)),!r&&e.a&&"hidden"===s(e.a).visibility.toLowerCase()?C:e.a}),o?e[0]:e}),e("ct.ElementAddressing.pathFromElement",function(e,t){var n,r=0,o=0,i=C,a=[],c=e;if(!t)return a;for(;c&&c!==t;)if(1!==c.nodeType)c=c.parentNode;else{for(o=0,i={},e=c,r=u(c.nodeName),i.tagCode=r,(n=l(e).CustomID)&&(i.customID=n),(n=p(e,"id"))&&(i.elementID=n),(n=p(e,"name"))&&(i.name=n),(n=p(e,"type"))&&(i.typeCode=d(n)),n=c;n=n.previousSibling;)u(n.nodeName)===r&&o++;i.index=o,c=c.parentNode,a.push(i)}return a.reverse(),a}),e("ct.ElementAddressing.elementAndVisibilityFromPath",function(e,n){var r=!(e[0]instanceof Array);r&&(e=[e]);var o=t(e,function(e){if(e=v(n,e),e.a&&0<e.b.length&&(e.a=f(e.a,e.b,S)),e.a){var t={};t.dom=e.a,t.isHidden="hidden"===s(e.a).visibility.toLowerCase(),e=t}else e=C;return e});return r?o[0]:o}),e("ct.ElementAddressing.setCustomElementID",L),e("ct.ElementAddressing.calcTagCode",u),e("ct.ElementAddressing.calcTypeCode",d)}();var exports={},rulesEngine=exports;Observable.prototype.subscribe=function(e){this.subscribers.push(e)},Observable.prototype.notify=function(){var e=this,t=arguments;e.subscribers.forEach(function(e){Array.prototype.push.apply(arguments,t),e.apply(this,arguments)})};var observablesFactory={construct:function(e){return null==e?null:this["construct"+e.type.replace("Condition","")](e)}};State.prototype.evaluate=function(e){};var statesFactory={construct:function(e){return this["construct"+e.type.replace("Condition","")](e)}},actionsFactory={construct:function(e,t){return this["construct"+e.type.replace("Action","")](e,t)}};Action.prototype.execute=function(e){};var ctSelectorUtils=function(){function e(e){var t=[];if(e.elementAddressing){var n=ct.ElementAddressing.elementFromPath(e.elementAddressing,document.body,!0);n&&t.push(n)}else if(e.querySelector)try{t=Array.prototype.slice.call(document.querySelectorAll(e.querySelector))}catch(r){}return t}var t={};return t.getDOMelements=function(t){if(Array.isArray(t)){var n=[];return t.forEach(function(t){n=n.concat(e(t))}),n}return e(t)},t.getFirstDOMelement=function(t){if(t&&null!=t){var n=e(t);if(null!=n&&n.length>0)return n[0]}return null},t}();ClickObservable.prototype=Object.create(Observable.prototype),ClickObservable.prototype.constructor=ClickObservable,observablesFactory.constructClick=function(e){return new ClickObservable(e.ctSelector)},document.addEventListener&&(document.addEventListener("mousedown",onMouseDown,!1),document.addEventListener("mouseup",onMouseUp,!1));var clickHandlers={},currentMouseDownElement=null;DelayObservable.prototype=Object.create(Observable.prototype),DelayObservable.prototype.constructor=DelayObservable,observablesFactory.constructDelay=function(e){return new DelayObservable(e.delay)},OrObservable.prototype=Object.create(Observable.prototype),OrObservable.prototype.constructor=OrObservable,observablesFactory.constructOr=function(e){var t=e.childConditions.map(function(e){return observablesFactory.construct(e)});return new OrObservable(t)},PageLoadObservable.prototype=Object.create(Observable.prototype),PageLoadObservable.prototype.constructor=PageLoadObservable,observablesFactory.constructPageLoad=function(){return new PageLoadObservable};var dynamicEventNameUtils=function(){var e={};e.getDynamicEventName=function(e,i){var u="";if(e&&e.parts&&e.parts.length>0){for(var d="undefined"!=typeof e.delimiter?e.delimiter:" ",f=0;f<e.parts.length;f++){var p=e.parts[f],m="";try{switch(p.type){case"TextValue":m=p.name;break;case"ElementValue":m=t(p);break;case"TriggeredElementValue":"undefined"!=typeof i&&null!=i&&(m=n(p,i));break;case"CookieValue":m=l(p.name);break;case"JSVariableValue":m=o(p.name);break;case"FunctionName":m=r(p.name);break;case"QueryStringParamName":m=s(p.name);break;case"BookmarkName":m=c();break;case"URLValue":m=a()}null==m&&(m="")}catch(y){"undefined"!=typeof logger&&logger.error("getDynamicEventName: ",y)}u+=d+m}u.length>0&&(u=u.substring(d.length))}return u};var t=function(e){var t=ctSelectorUtils.getFirstDOMelement(e.ctSelector);return null!=t?n(e,t):""},n=function(e,t){var n=e.subType;switch(n){case"Attribute":var r=e.name,o=t.getAttribute(r);return null!=o?o:t[r];case"AllInnerText":return d(t).join(" ");case"InnerText":default:return"undefined"!=typeof t.firstChild&&null!=t.firstChild?"function"==typeof t.firstChild.nodeValue.trim?t.firstChild.nodeValue.trim():t.firstChild.nodeValue:"undefined"!=typeof t.value&&null!=t.value?"function"==typeof t.value.trim?t.value.trim():t.value:""}},r=function(e){if("function"!=typeof window[e.split("(")[0]])return null;var t=new Function("return "+e)();return i(t)},o=function(e){return i(window[e])};e.getJSVariable=function(e){return o(e)};var i=function(e){return e="undefined"==typeof e||"object"==typeof e?null:e.toString()},a=function(e){return e||(e="-"),window.location.pathname.split("/").join(e).substring(1)},c=function(){return window.location.hash?window.location.hash.split("#")[1]:null},l=function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var o=n[r];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""};e.getCookieValue=function(e){return l(e)};var s=function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),r=n.exec(t);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null};e.getQueryStringParameterValue=function(e){return s(e)};var u=function(e,t){for(t(e),e=e.firstChild;e;)u(e,t),e=e.nextSibling},d=function(e){function t(e){switch(e.nodeType){case 1:"undefined"!=typeof e.value&&null!=e.value&&n.push("function"==typeof e.value.trim?e.value.trim():e.value);break;case 3:"undefined"!=typeof e.nodeValue&&null!=e.nodeValue&&n.push("function"==typeof e.nodeValue.trim?e.nodeValue.trim():e.nodeValue)}}"string"==typeof e&&(e=document.getElementById(e));var n=[];return u(e,t),n};return e}();CTEventAction.prototype=Object.create(Action.prototype),CTEventAction.prototype.constructor=Action,CTEventAction.prototype.execute=function(){var e=this;ctRecordingPromise.then(function(){if("function"==typeof window.ClickTaleIsRecording&&window.ClickTaleIsRecording()&&"function"==typeof window.ClickTaleEvent){var t=e.geEventName();""!=t&&(window.ClickTaleEvent(t),logger.log("ClickTaleEvent: "+t))}})},CTEventAction.prototype.geEventName=function(){return this.actionData.dynamicEventName?dynamicEventNameUtils.getDynamicEventName(this.actionData.dynamicEventName,this.triggeredDomElement):this.actionData.eventName},actionsFactory.constructCTEvent=function(e){return new CTEventAction(e)},AndCondition.prototype=Object.create(State.prototype),AndCondition.prototype.constructor=AndCondition,AndCondition.prototype.evaluate=function(){for(var e=0;e<this.children.length;e++){var t=this.children[e].evaluate();if(0==t)return!1}return!0},statesFactory.constructAnd=function(e){var t=e.childConditions.map(function(e){return statesFactory.construct(e)});return new AndCondition(t)},CookieExistsState.prototype=Object.create(State.prototype),CookieExistsState.prototype.constructor=CookieExistsState,CookieExistsState.prototype.evaluate=function(){for(var e=!1,t=document.cookie.split(";"),n=0;n<t.length;n++)if(t[n].split("=")[0].trim()==this.cookieName){e=!0;break}return!!e&&(void 0==this.cookieValue||this.cookieValue==dynamicEventNameUtils.getCookieValue(this.cookieName))},statesFactory.constructCookieExists=function(e){return new CookieExistsState(e.name,e.value)},ExistsState.prototype=Object.create(State.prototype),ExistsState.prototype.constructor=ExistsState,ExistsState.prototype.evaluate=function(){var e=ctSelectorUtils.getDOMelements(this.ctSelector);return e.length>0},statesFactory.constructExists=function(e){return new ExistsState(e.ctSelector)},JSVariableExistsState.prototype=Object.create(State.prototype),JSVariableExistsState.prototype.constructor=JSVariableExistsState,JSVariableExistsState.prototype.evaluate=function(){var e=window[this.jsVariableName];return void 0!=e&&(void 0==this.jsVariableValue||e==this.jsVariableValue)},statesFactory.constructJSVariableExists=function(e){return new JSVariableExistsState(e.name,e.value)},LocationState.prototype=Object.create(State.prototype),LocationState.prototype.constructor=State,LocationState.prototype.evaluate=function(e){var t=e||window.location.href;switch(t=t.toLowerCase(),this.ignoreQueryString===!0&&(t=t.split(/[?#]/)[0],this.url=this.url.split(/[?#]/)[0]),this.mode){case"AllPages":return!0;case"StartsWith":return 0==t.indexOf(this.url);case"Equals":return t===this.url;case"Contains":return t.indexOf(this.url)>-1}},statesFactory.constructLocation=function(e){return new LocationState(e)},NotCondition.prototype=Object.create(State.prototype),NotCondition.prototype.constructor=NotCondition,NotCondition.prototype.evaluate=function(){return!this.childState.evaluate()},statesFactory.constructNot=function(e){var t=statesFactory.construct(e.condition);return new NotCondition(t)},OrCondition.prototype=Object.create(State.prototype),OrCondition.prototype.constructor=OrCondition,OrCondition.prototype.evaluate=function(){for(var e=0;e<this.children.length;e++){var t=this.children[e].evaluate();if(1==t)return!0}return!1},statesFactory.constructOr=function(e){var t=e.childConditions.map(function(e){return statesFactory.construct(e)});return new OrCondition(t)},QSParamExistsState.prototype=Object.create(State.prototype),QSParamExistsState.prototype.constructor=QSParamExistsState,QSParamExistsState.prototype.evaluate=function(){for(var e=!1,t=window.location.search.substring(1).split("&"),n=0;n<t.length;n++)if(t[n].split("=")[0]==this.queryStringParamName){e=!0;break}return!!e&&(void 0==this.queryStringParamValue||this.queryStringParamValue==dynamicEventNameUtils.getQueryStringParameterValue(this.queryStringParamName))},statesFactory.constructQSParamExists=function(e){return new QSParamExistsState(e.name,e.value)},UrlHashExistsState.prototype=Object.create(State.prototype),UrlHashExistsState.prototype.constructor=UrlHashExistsState,UrlHashExistsState.prototype.evaluate=function(){return window.location.hash.split("#")[1]==this.urlHashValue},statesFactory.constructUrlHashExists=function(e){return new UrlHashExistsState(e.name)},function(e){var t=-1,n=-2,r=-3,o=-4,i=-5,a=function(e){var a=e.split("^"),s=[],u=a[0];if(""!==u){u=u.split("|");for(var d=0,f=u.length;d<f;d++)s.push(c(u[d]))}if(u=a[1],""!==u){u=u.split("|");for(var d=0,f=u.length;d<f;d++)s.push(l(u[d]))}if(u=a[2],""!==u){u=u.split("|");for(var d=0,f=u.length;d<f;d++)s.push(parseFloat(u[d]))}delete u;for(var p="",m=[],y=a[3].length,d=0;d<y;d++){var v=a[3].charAt(d);"|"===v||"$"===v||"@"===v||"]"===v?(p&&(m.push(l(p)),p=""),"|"!==v&&m.push(v)):p+=v}var h=m.length,g=0;return function b(){var e=m[g++];if("@"===e){for(var a=[];g<h;g++){var c=m[g];if("]"===c)return a;if("@"===c||"$"===c)a.push(b());else switch(c){case t:a.push(!0);break;case n:a.push(!1);break;case r:a.push(null);break;case i:a.push(void 0);break;case o:a.push("");break;default:a.push(s[c])}}return a}if("$"===e){for(var a={};g<h;g++){var l=m[g];if("]"===l)return a;l=l===o?"":s[l];var c=m[++g];if("@"===c||"$"===c)a[l]=b();else switch(c){case t:a[l]=!0;break;case n:a[l]=!1;break;case r:a[l]=null;break;case i:a[l]=void 0;break;case o:a[l]="";break;default:a[l]=s[c]}}return a}throw new TypeError("Bad token "+e+" isn't a type")}()},c=function(e){return"string"!=typeof e?e:e.replace(/\+|%2B|%7C|%5E|%25/g,function(e){return{"+":" ","%2B":"+","%7C":"|","%5E":"^","%25":"%"}[e]})},l=function(e){return parseInt(e,36)};e.jsonUnpacker={unpack:function(e){return a(e)}}}(exports);var ctRecordingPromise=new CTSimplePromise,rules,onRulesBoundHandlers=[];init();}());

/*browsers exclusion start*/function doOnlyWhen(toDoHandler, toCheckHandler, interval, times, failHandler) {
    if ((!toDoHandler) || (!toCheckHandler)) return;
    if (typeof interval == "undefined") interval = 1000;
    if (typeof times == "undefined") times = 20;

    if (--times < 0 && typeof failHandler === 'function') {
        failHandler();
        return;
    }
    if (toCheckHandler()) {
        toDoHandler();
        return;
    }

    setTimeout(function () { doOnlyWhen(toDoHandler, toCheckHandler, interval, times); }, interval);
}
doOnlyWhen(function () { var ct_UA = ClickTaleDetectAgent(); if (!(((ct_UA.t == ct_UA.IE && ct_UA.v <= 8)))) { (function(){
window.ClickTaleSettings = window.ClickTaleSettings || {};
window.ClickTaleSettings.PTC = window.ClickTaleSettings.PTC || {};
window.ClickTaleSettings.PTC.originalPCCLocation = "P03_PID16508";
var e=!0,g=null,h=!1,m=this;var n,p,q,r;function aa(){return m.navigator?m.navigator.userAgent:g}r=q=p=n=h;var t;if(t=aa()){var ba=m.navigator;n=0==t.indexOf("Opera");p=!n&&-1!=t.indexOf("MSIE");q=!n&&-1!=t.indexOf("WebKit");r=!n&&!q&&"Gecko"==ba.product}var ca=n,v=p,w=r,x=q,y;
a:{var z="",A;if(ca&&m.opera)var C=m.opera.version,z="function"==typeof C?C():C;else if(w?A=/rv\:([^\);]+)(\)|;)/:v?A=/MSIE\s+([^\);]+)(\)|;)/:x&&(A=/WebKit\/(\S+)/),A)var da=A.exec(aa()),z=da?da[1]:"";if(v){var D,ea=m.document;D=ea?ea.documentMode:void 0;if(D>parseFloat(z)){y=""+D;break a}}y=z}var fa={};
function E(a){var b;if(!(b=fa[a])){b=0;for(var c=(""+y).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),f=(""+a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),i=Math.max(c.length,f.length),u=0;0==b&&u<i;u++){var d=c[u]||"",o=f[u]||"",l=RegExp("(\\d*)(\\D*)","g"),B=RegExp("(\\d*)(\\D*)","g");do{var j=l.exec(d)||["","",""],k=B.exec(o)||["","",""];if(0==j[0].length&&0==k[0].length)break;b=((0==j[1].length?0:parseInt(j[1],10))<(0==k[1].length?0:parseInt(k[1],10))?-1:(0==j[1].length?0:parseInt(j[1],
10))>(0==k[1].length?0:parseInt(k[1],10))?1:0)||((0==j[2].length)<(0==k[2].length)?-1:(0==j[2].length)>(0==k[2].length)?1:0)||(j[2]<k[2]?-1:j[2]>k[2]?1:0)}while(0==b)}b=fa[a]=0<=b}return b}var ga={};function ha(){ga[9]||(ga[9]=v&&!!document.documentMode&&9<=document.documentMode)};!v||ha();!v||ha();v&&E("8");!x||E("528");w&&E("1.9b")||v&&E("8")||ca&&E("9.5")||x&&E("528");!w||E("8");var ia;function F(a,b,c,f,i){a&&b&&("undefined"==typeof c&&(c=1E3),"undefined"==typeof f&&(f=20),0>--f?"function"===typeof i&&i():b()?a():setTimeout(function(){F(a,b,c,f,i)},c))}function ja(a){var b="someText".trim,c=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;ia=b&&!b.call(new String("\ufeff\u00a0"))?function(a){return a==g?"":b.call(a)}:function(a){return a==g?"":(a+"").replace(c,"")};return ia(a)};function G(a,b){var c=Element.prototype;G=function(a,b){return!a||!document.documentElement.contains(a)?h:G.d.call(a,b)};G.d=c.matches||c.webkitMatchesSelector||c.mozMatchesSelector||c.msMatchesSelector;return G(a,b)}function H(a,b){H=Element.prototype.closest?function(a,f){return Element.prototype.closest.call(a,f)}:function(a,f){for(;a&&!G(a,f);)a=a.parentElement;return a};return H(a,b)};function ka(a){function b(){c||(c=e,a())}var c=h;"complete"===document.readyState||"interactive"===document.readyState?b():document.addEventListener&&document.addEventListener("DOMContentLoaded",b,h)}
function I(a,b,c,f,i){"string"===typeof a?(a=document.querySelectorAll(a),Array.prototype.forEach.call(a,function(a){I(a,b,c,f,i)})):a instanceof Array||a instanceof NodeList?Array.prototype.forEach.call(a,function(a){I(a,b,c,f,i)}):a.addEventListener(b,function(a,f,b,c,i){return function(j){if("function"===typeof b)b.apply(this,arguments),i&&a.removeEventListener(f,arguments.callee,h);else{var k=H(j.target,b);k&&(c.apply(k,arguments),i&&a.removeEventListener(f,arguments.callee,h))}}}(a,b,c,f,i),
h)}function la(a,b){document.addEventListener("mouseup",function(c){a===c.target&&b();document.removeEventListener("mouseup",arguments.callee,h)},h)}function ma(a,b){function c(f){document.removeEventListener("touchend",arguments.callee,h);a===f.target&&b()}document.addEventListener("touchend",c,h);document.addEventListener("touchmove",function(a){document.removeEventListener("touchmove",arguments.callee,h);document.removeEventListener("touchend",c,h)},h)}
function J(a,b){var c=K();c&&(J=c.m?ma:la,J(a,b))};function na(a){for(var a=a+"=",b=document.cookie.split(";"),c=0;c<b.length;c++){for(var f=b[c];" "==f.charAt(0);)f=f.substring(1,f.length);if(0==f.indexOf(a))return f.substring(a.length,f.length)}return g};function L(a,b){"function"===typeof ClickTaleEvent&&(b?L.b[a]!==e&&(L.b[a]=e,ClickTaleEvent(a)):ClickTaleEvent(a))}L.b={};function oa(a){"function"===typeof ClickTaleRegisterFormSubmit&&ClickTaleRegisterFormSubmit(a)}function pa(a){"function"===typeof ClickTaleRegisterFormSubmitSent&&ClickTaleRegisterFormSubmitSent(a)}function M(a){"function"===typeof ClickTaleRegisterFormSubmitFailure&&(a?ClickTaleRegisterFormSubmitFailure(a):ClickTaleRegisterFormSubmitFailure())}
function qa(a){"function"===typeof window.ClickTaleRegisterElementAction&&(ClickTaleRegisterElementAction("mouseover",a),ClickTaleRegisterElementAction("click",a))}function N(a,b){var c={},f;for(f in a)c[f]=a[f];c.target=b;c.srcElement=b;qa(c)}window.ClickTaleDetectAgent&&window.ClickTaleDetectAgent()&&window.ClickTaleDetectAgent();
function O(a,b){"object"==typeof a&&"string"==typeof b&&(window.ClickTaleContext&&-1!=document.referrer.indexOf(location.hostname)&&window.parent.ct&&window.parent.ct.ElementAddressing&&"function"===typeof window.parent.ct.ElementAddressing.setCustomElementID?window.parent.ct.ElementAddressing.setCustomElementID(a,b):(window.ClickTaleSetCustomElementID=window.ClickTaleSetCustomElementID||function(a,f){a.ClickTale=a.ClickTale||{};a.ClickTale.CustomID=f},window.ClickTaleSetCustomElementID(a,b)))}
function K(){if("function"===typeof ClickTaleDetectAgent){var a=ClickTaleDetectAgent();if(a)return K=function(){return a},K()}return g}
function ra(){var a;if(!a){a="mousedown";if("boolean"!=typeof P){var b=K();b&&(P=b.m)}P&&(a="touchstart")}I(document,a,"label[for], img, a, button, textarea, input, select",function(a){var f=a.target,b=this;J(f,function(a,f){return function(){if(G(this,"label[for]")){var c=b.getAttribute("for");if(c&&(c=document.querySelector('[id= "'+c+'"]'))){var l={},B;for(B in f)l[B]=f[B];l.target=c;l.srcElement=c;"function"===typeof window.ClickTaleRegisterElementAction&&ClickTaleRegisterElementAction("mouseover",
l)}}if(!P)if(G(this,"button,a,textarea")&&this!=a)N(f,this);else{var j=function(){};document.addEventListener("click",function(a){return j=function(f){f.target===a&&(Q=e);document.removeEventListener("click",arguments.callee,h)}}(a),h);setTimeout(function(){Q||qa(f);document.removeEventListener("click",j,h);Q=void 0},200)}}.bind(b)}(f,a))})}var P,Q;function R(a){"function"===typeof ClickTaleExec&&ClickTaleExec(a)}var S=L;function sa(a){var b="etr",b="string"===typeof b?b.toLowerCase():"id";switch(b){case "etr":a="@ET@"+a;"function"===typeof ClickTaleEventTrigger?ClickTaleEventTrigger(a):L(a,e);break;default:L("@ID@"+a,e)}}var ta=O;var T="",U="",ua=e,va={specialNeeds:"Apply",editCalander:"Change Search",btnChangeSearch:"Change Search"},V,wa=[],W="",X=[[".hi-hd-gallery-view-all-pics","Action | HOTEL DETAILS | View All Clicked"],[".hi-hd-gallery .photos.flexslider ul.flex-direction-nav a.flex-prev, .hi-hd-gallery .photos.flexslider ul.flex-direction-nav a.flex-next","Action | HOTEL DETAILS | Interacted with carousel"],[".hi-hd-hotel-overview .morelink","Action | HOTEL DETAILS | View More / View Less"],[".hi-hd-facilities .reset-pad .tile, .hi-hd-collapsible-content a.hi-hd-view, .hi-hd-collapsible-content a.hi-hd-hide",
"Action | HOTEL DETAILS | View Details / Hide Details"],[".hiex-hd-gallery .flex-direction-nav li, .hiex-hd-gallery .flex-viewport .slides li","ctSectionReplaceGallery: Interacted with carousel "]];function xa(){return U.replace(/(\w)(\w+)/g,function(a,b,c){return b.toUpperCase()+c.toLowerCase()})}
function ya(a){var b=V,a=a||{attributes:e,attributeFilter:["style"],attributeOldValue:e};b.disconnect();for(var c=document.querySelectorAll("#roomRateRoomType .rateTypeLineItems"),f=0,i=c.length;f<i;f++){var u=c[f];-1==wa.indexOf(u)&&b.observe(u,a)}}var za=[h,h];function Aa(a){var b;if(0<=a){b=e;za[a]=e;for(a=0;a<za.length;a++)if(!za[a])return}b&&sa(" Onload | Forced pages")}
function Ba(){if(ua)ua=h;else for(var a=window.ClickTaleSettings&&window.ClickTaleSettings.PTC&&window.ClickTaleSettings.PTC.InitFuncs?window.ClickTaleSettings.PTC.InitFuncs:[],b=0,c=a.length;b<c;b++)if("function"===typeof a[b])a[b]();a=na("force_ct");!na("CT_ET_enabled")&&"1"==a&&(sa(" iPerception Survey"),document.cookie="CT_ET_enabled=true; path=/");/searchresult/i.test(location.pathname)&&(T="SRP",jQuery(".searchContainer .infoBox #failedToClarify").filter(function(){return"inline"==jQuery(this).css("display")}).length?
(S("Onload | SRP | No Results",e),S("Onload | SRP | No Results - unable to clarify",e)):jQuery('.searchContainer .infoBox a[href*="global/about/brands"]').filter(":visible").length?S("Onload | SRP | No hotels for the selected brand",e):jQuery(".searchContainer .infoBox .infoDesc").filter(":visible").length&&S("Onload | SRP | Showing results for clarified location",e),jQuery("#searchResultContainer .priceMsgNotAvail").length&&S("Onload | Rooms Are Not Available",e));jQuery("input.hasDatepicker").each(function(a,
b){ta(b,"hasDatepicker"+a)});F(function(){W&&(S("Onload | Page Name: "+W),"SRP"!=T&&(T="Action | "+W+" | "));if(/RESERVATION : ROOMRATE/.test(W)){jQuery.each(jQuery(".urgentMsgTxtCss").filter(":visible"),function(){if(/only\s*\d*\s*rooms?\s*left/i.test(jQuery.trim(jQuery(this).text())))return S("Onload | Only X Rooms left"),h});jQuery("#roomRateWrapper div.btn-ratePref > ul > li.active").each(function(){if(/Reward\s*Nights/i.test(jQuery.trim(jQuery(this).text())))return S("Onload | Reward Nights"),
h});var a=document.querySelectorAll("#roomRateRoomType > div.roomsView").length;0<a?(S("Onload | Rooms"),S("Onload | "+a+" of Rooms")):document.querySelector("#roomRateRoomType > div.ratesView")&&S("Onload | Rates");"IC: RESERVATION : ROOMRATE"==W&&Aa(0)}},function(){return window.s?(W=window.s.pageName||"",!!W):h},500,10);F(function(){/(?:NYCHA|NYCHC|SFOHA|SSLHB)/i.test(window.s.prop53)&&(S("Onload | Hotel Code: "+window.s.prop53),Aa(1))},function(){return window.s&&window.s.prop53?e:h},500,10);
window.trackingJson?(U=window.trackingJson.loginType,"0"===window.trackingJson.searchResults&&S("Onload | No Hotels Found")):"function"===typeof window.$data&&(U=window.$data("gdl","loginStatus"));U&&S("Onload | Login Type: "+xa());window.testversion&&S("Onload | Test Version: "+window.testversion);F(function(){S("Action | Rooms & Rates | Not enough points");var a=parseInt(jQuery.trim(jQuery(".pointsRequiredForStay").filter(":visible").text()),10),b=parseInt(jQuery.trim(jQuery(".notEnoughPointsBalance").filter(":visible").text()),
10);!isNaN(a)&&!isNaN(b)&&b>a&&S("Action | Rooms & Rates | Not enough point - Incorrect Message")},function(){return 2==jQuery(".pointsRequiredForStay, .notEnoughPointsBalance").filter(":visible").length},1E3,2);(function(){var a="";jQuery("#destination, #checkInDate, #checkOutDate").each(function(){a+="jQuery('#"+this.id+"').val(unescape('"+escape(this.value||"")+"')); "});a&&R(a)})();jQuery.each(jQuery(".urgentMsgTxtCss").filter(":visible"),function(){if(/only\s*\d*\s*rooms?\s*left/i.test(jQuery.trim(jQuery(this).text())))return S("Onload | Only X Rooms left"),
h});0<jQuery('.stayerror div:contains("The requested rate does not allow guarantee without a credit card"):visible').length&&S("Onload | The requested date does not allow guarantee without a credit card");F(function(){-1<jQuery("span.language-text").text().indexOf("English")&&S("Onload | "+W+" | English Language")},function(){return 0<jQuery("span.language-text").length},500,10)}function Y(a){return 0<a.length}
function Ca(){window.ClickTaleFormToSubmit&&Y(jQuery(".ihg_error_entry"))&&(M(window.ClickTaleFormToSubmit),window.ClickTaleFormToSubmit=g,jQuery(document).off("submitSTOPPING.ClickTale"))}function Z(a,b){jQuery(document).one("mouseup",function(c){a===c.target&&b()})}
function Da(){if(!window.ClickTaleFirstPCCGo){window.ClickTaleFirstPCCGo=e;Ba();window.MutationObserver&&(V=new window.MutationObserver(function(a){a.forEach(function(a){/display:\s*none;/.test(a.oldValue)&&(S("Action | Expand Rates"),a=a.target,/only\s*\d*\s*rooms?\s*left/i.test(jQuery.trim(jQuery(a).siblings(".roomTypeLineItem").find(".urgentMsgTxtCss").text()))?(S("Action | Expand Rates When Only X Rooms Left"),V.disconnect()):(wa.push(a),ya()))})}),ya({attributes:e,attributeFilter:["style"],attributeOldValue:e}));
var a=jQuery('#searchResultContainer > div[id^="results_row"]').each(function(a,b){O(b,"results_row"+a);var c=jQuery(b).find(".detailsTarget");c.length&&O(c[0],"results_row"+a+"detailsTarget")});a.length&&(S("Onload | "+a.length+" Results",e),jQuery("#searchResultContainer .showMoreResultsSpan").filter(":visible").length&&S("Onload | More than 12 Results",e));jQuery(document).on("autocompleteclose","#destination",function(){var a=this.value||"";"destination"===this.id&&R("jQuery('#destination').val(unescape('"+
escape(a)+"'));")});jQuery(document).on("change",".currencySelection select",function(){G(this,".currencySelection select")&&S("Action | Interacted with Currency")});jQuery(document).on("input","#destination, #checkInDate, #checkOutDate",function(){var a=this.id,b=this.value||"";jQuery(this).is("#destination, #checkInDate, #checkOutDate")&&R("jQuery('#"+a+"').val(unescape('"+escape(b)+"'));")});jQuery(document).on("mouseenter mouseleave",".brandNav > ul > li",function(a){jQuery(a.target);jQuery(this);
var b=jQuery(".brandNav > ul > li").index(this),a=a.type;R("jQuery('.brandNav > ul > li').eq("+b+")."+("mouseenter"===a||"mouseover"===a?"add":"remove")+"Class('cthover');")});a="button.btn.btnWallet, button.detailsBtn, a.logIn-link, input.btn-primary, input.cssButton, #showMoreLink, #showAllLink, .wallet button.createPIN, #oo_tab, input[class *= 'bookThis'], #ui-datepicker-div, .photoViewerWrapper, .flexslider.slider .flex-prev, .flexslider.slider .flex-next, .flexCarousel.flexslider li, .checkRates a, button.mapsBtn, ul.iconSRNavTabIcon li:nth-child(1) a, ul.iconSRNavTabIcon li:nth-child(2) a, .brandNavContainer .booknow, .tab-content .more-less-opt, .htl-search,.btn-default.resSubmit.search, #res-more-desktop, #manage-reservation-form #manageSubmit, span.fa, span.fa-icons, .manage-reservation .view-res, .callout-accordian .accordian-content .item .header, .hiex-view-gallery, .hiex-tile-dd .tile > .item, .hiex-hd-gallery .nav-tabs a, .brandNav a.site-int-link";
V||(a+=", .roomTypeLineItem");for(var b=0,c=X.length;b<c;b++)a+=", "+X[b][0];jQuery(document).on("mousedown",a,function(a){var b=a.target,c=jQuery(b),d=jQuery(this),o=this.id;if(("showAllLink"===o||"showMoreLink"===o)&&this===b){var l=d.children("input.btn-primary")[0];l&&N(a,l)}else d.is("span.fa, span.fa-icons")&&(l=d.prev("input")[0]||d.next("input")[0])&&N(a,l);if("oo_tab"===o)sa("Feedback Clicked");else if(d.is("button.btn.btnWallet, button.detailsBtn"))c=c.text(),(c=ja(c))&&S("Action | "+c+
" Clicked");else if(d.hasClass("logIn-link"))d=d.attr("data-uhf-hook"),("signInToggle"===d||"walletToggle"===d)&&S("Action | IHG Rewards Club Button Clicked");else if(d.is("input.btn-primary, input.cssButton"))c=c.val(),(a=va[o])?S("Action | "+a+" Clicked"):d.hasClass("bookThisRoomBaseRate ")?(S("Action | Book This Room Clicked"),a=d.closest(".roomsView"),Y(a.find(".rewardRatesBanner"))&&S("Action | Book This Room for Rewards Club Clicked"),a=a.find(".urgentMsgTxtCss").filter(":visible"),Y(a)&&/only\s*\d*\s*rooms?\s*left/i.test(jQuery.trim(a.text()))&&
S("Action | Book This Room When Only X Rooms Left Clicked")):("string"===typeof c&&(c=ja(c)),c&&S("Action | "+c+" Clicked")),"btnNext"===o&&"Confirm Reservation"===c&&(d=d.closest("form")[0],Y(d)&&(oa(d),pa(d),window.ClickTaleFormToSubmit=d,setTimeout(Ca,1E3),jQuery(document).one("submitSTOPPING.ClickTale",Ca))),0<jQuery("#guaranteeType6PM1, #guaranteeType6PM2").length&&0<jQuery("#guestpayinfo_formerror_placeholder").length&&F(function(){S("Action | Please tell us how to hold your reservation",e)},
function(){return 0<jQuery("#guestpayinfo_formerror_placeholder:visible").length&&!jQuery("#guaranteeType6PM1, #guaranteeType6PM2").is(":checked")},200,10);else if(d.is(".wallet button.createPIN"))Z(b,function(){F(function(){S("Action | Create Pin Shown")},function(){return jQuery(".wallet-state.wallet-createPin.wallet-view").is(":visible")},2,1E3)});else if("ui-datepicker-div"===o)setTimeout(function(){var a="";jQuery("#checkInDate, #checkOutDate").each(function(){a+="jQuery('#"+this.id+"').val(unescape('"+
escape(this.value||"")+"')); "});a&&R(a)},500);else if(!V&&d.is(".roomTypeLineItem"))d=d.next(".rateTypeLineItems"),Y(d)&&!Y(d.filter(":visible"))&&setTimeout(function(a){return function(){Y(a.filter(":visible"))&&(S("Action | Expand Rates"),/only\s*\d*\s*rooms?\s*left/i.test(jQuery.trim(a.find(".urgentMsgTxtCss").text()))&&S("Action | Expand Rates When Only X Rooms Left"))}}(d),500);else if(d.hasClass("photoViewerWrapper"))S("Action | Opened Gallery");else if(d.is(".flexslider.slider .flex-prev, .flexslider.slider .flex-next, .flexCarousel.flexslider li"))S("Action | Interacted with Gallery");
else{if("SRP"==T){if(d.is("ul.iconSRNavTabIcon li:nth-child(1) a")){Z(b,function(){S("Action | SRP | List View Clicked",e)});return}if(d.is("ul.iconSRNavTabIcon li:nth-child(2) a")){Z(b,function(){S("Action | SRP | Map View Clicked",e)});return}}if(d.is(".brandNavContainer .booknow"))S("Action | HOTEL DETAILS | Book CTA Clicked");else if(d.is(".tab-content .more-less-opt, #res-more-desktop")&&d.find(".more-opt, #res-more-op-desktop").is(":visible"))S("Action | HOTEL DETAILS | More Options Clicked");
else if(d.is(".htl-search, .btn-default.resSubmit.search, .manage-reservation .view-res, .callout-accordian .accordian-content .item .header, .hiex-view-gallery, .brandNav a.site-int-link")){if(d=jQuery.trim(d.text()))d="book"==d.toLowerCase()?"Book CTA":d,S((-1!=W.indexOf("EX: HOTELDETAIL")?T:"Action | HOTEL DETAILS | ")+d+" Clicked")}else{if(T){if(d.is(".hiex-tile-dd .tile > .item")){if(d=jQuery.trim(d.text()))S(T+d+" Clicked"),0<c.closest(".dd-header").length&&S(T+"About: "+d+" Clicked");return}if(d.is(".hiex-hd-gallery .nav-tabs a")){if(d=
jQuery.trim(d.text()))S(T+"Gallery: "+d+" Clicked"),0<c.closest(".dd-header").length&&S(T+"About: "+d+" Clicked");return}}d.is("#manage-reservation-form #manageSubmit")?S("Action | HOTEL DETAILS | Manage A Reservation - View This Reservation Clicked"):("HI: HOTELDETAIL"==W||-1!=W.indexOf("EX: HOTELDETAIL"))&&Z(b,function(a,b,c){return function(){for(var a=0,b=X.length;a<b;a++){var d=X[a];if(c.is(d[0])){S(d[1].replace("ctSectionReplace",T));break}}}}(b,c,d,o,a))}}});a=jQuery;window.uhf_jQuery&&(a=
window.uhf_jQuery,a(document).ajaxSend(function(a,b,c){if(/\/createPin\?/i.test(c.url)){var d=document.querySelector(".wallet-state.wallet-createPin.wallet-view form");d&&(oa(d),pa(d),b.done(function(a){if(a&&"string"===typeof a.status){var b=document.querySelector(".wallet-state.wallet-createPin.wallet-view form");b&&("failure"===a.status.toLowerCase()?M(b):"function"===typeof ClickTaleRegisterFormSubmitSuccess&&(b?ClickTaleRegisterFormSubmitSuccess(b):ClickTaleRegisterFormSubmitSuccess()))}}).fail(function(){M(d)}))}}));
jQuery(document).ajaxSend(function(a,b,c){/\/reservation\/book\/hasEnoughPoints/i.test(c.url)&&b.done(function(){F(function(){S("Action | Rooms & Rates | Not enough points");var a=parseInt(jQuery.trim(jQuery(".pointsRequiredForStay").filter(":visible").text()),10),b=parseInt(jQuery.trim(jQuery(".notEnoughPointsBalance").filter(":visible").text()),10);!isNaN(a)&&!isNaN(b)&&b>a&&S("Action | Rooms & Rates | Not enough point - Incorrect Message")},function(){return 2==jQuery(".pointsRequiredForStay, .notEnoughPointsBalance").filter(":visible").length},
1E3,2)})})}}(function(a){function b(){2==++window.okToStartOn2&&a()}window.okToStartOn2=0;ka(function(){b()});if("function"==typeof ClickTaleIsRecording&&ClickTaleIsRecording()===e)b();else{var c=window.ClickTaleOnRecording||function(){};window.ClickTaleOnRecording=function(){b();return c.apply(this,arguments)}}})(function(){ra();F(Da,function(){return window.jQuery&&"function"===typeof jQuery.fn.on?e:h},250,40)});})(); } }, function () { return (typeof ClickTaleDetectAgent === 'function'); }, 500, 20);
